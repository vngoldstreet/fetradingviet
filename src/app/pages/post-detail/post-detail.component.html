<app-header></app-header>
<div class="bg-[#0C0C0C] transition-all duration-300 container mx-auto px-6">
    <div class="w-full overflow-auto scroll-smooth transition-all duration-700">
        <header
            class="group bg-[#1A1A1A] border border-[#1A1A1A] hover:border-[#F5BF00]/30 rounded-2xl p-8 transition-all duration-300 hover:shadow-xl hover:shadow-[#F5BF00]/10 mt-28">
            <div class="flex flex-col items-center gap-x-5">
                <h1 class="text-xl md:text-3xl font-bold my-3 text-custom-yellow text-justify mx-5">
                    {{post?.Post?.title}}
                </h1>
                <!-- <p class="text-xs sm:text-sm">
                    Cập nhật lúc: {{content.updated_at | date:'dd/MM/YYYY HH:mm:ss'}}</p> -->
            </div>
        </header>
        <section class="snap-start flex items-center justify-center my-5">
            <div class="container mx-auto">
                <div class="grid grid-cols-12 gap-4 md:gap-12 px-2 xl:px-14 2xl:px-0">
                    <div class="col-span-12 xl:col-span-8">
                        <div *ngIf="!isLoading" class="flex animate-pulse">
                            <div class="ms-4 mt-2 w-full">
                                <ul class="mt-5 space-y-3">
                                    <li class="w-full h-32 bg-[#1A1A1A] rounded-xl"></li>
                                    <li class="w-full h-4 bg-[#1A1A1A] rounded-full"></li>
                                    <li class="w-full aspect-video bg-[#1A1A1A]"></li>
                                    <li class="w-full h-32 bg-[#1A1A1A] rounded-xl"></li>
                                    <li class="w-full h-4 bg-[#1A1A1A] rounded-full"></li>
                                </ul>
                            </div>
                        </div>
                        <div *ngIf="isLoading">
                            <div class="flex justify-between gap-4">
                                <div class="flex gap-2 justify-start items-center my-4">
                                    <img class="size-12 rounded-full" [src]="post?.Author?.avatar_url"
                                        [alt]="post?.Author?.display_name">
                                    <div class="">
                                        <h2 class="text-base text-custom-yellow">
                                            {{post?.Author?.display_name}}
                                        </h2>
                                        <p class="text-sm text-custom-white">
                                            {{post?.Author?.role}}
                                        </p>
                                    </div>
                                </div>
                                <div class="flex justify-end gap-2 text-custom-yellow items-center">
                                    <button class="flex justify-end gap-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="currentColor"
                                            class="icon icon-tabler icons-tabler-filled icon-tabler-heart">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                            <path
                                                d="M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z" />
                                        </svg>
                                        {{post?.PostCounter?.like}}
                                    </button>
                                    <button class="flex justify-end gap-2" class="flex justify-end gap-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="currentColor"
                                            class="icon icon-tabler icons-tabler-filled icon-tabler-message">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                            <path
                                                d="M18 3a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-4.724l-4.762 2.857a1 1 0 0 1 -1.508 -.743l-.006 -.114v-2h-1a4 4 0 0 1 -3.995 -3.8l-.005 -.2v-8a4 4 0 0 1 4 -4zm-4 9h-6a1 1 0 0 0 0 2h6a1 1 0 0 0 0 -2m2 -4h-8a1 1 0 1 0 0 2h8a1 1 0 0 0 0 -2" />
                                        </svg>
                                        {{post?.PostCounter?.comment}}
                                    </button>
                                </div>
                            </div>

                            <div *ngIf="post?.Post?.thumbnail" class="w-full aspect-video">
                                <img class="w-full aspect-video h-auto rounded-lg animate-fade-in-300"
                                    [src]=" post?.Post?.thumbnail" loading="lazy" [alt]="post?.Post?.title">
                            </div>
                            <article class="rounded-xl my-5 w-full">
                                <p class="font-semibold text-base text-custom-yellow/80 no-underline text-justify">
                                    {{post?.Post?.description}}
                                </p>
                                <div class="text-custom-white/80 text-sm md:text-base" id="content"
                                    [innerHTML]="sanitizedContent">
                                </div>
                            </article>
                        </div>
                    </div>
                    <div class="col-span-12 xl:col-span-4">
                        <h2 class="uppercase text-custom-yellow font-bold text-xl my-5">
                            Bài viết mới nhất
                        </h2>
                        <ng-container *ngFor="let item of postLists">
                            <a [routerLink]="['/', item?.slug]" class="group grid grid-cols-12 gap-4 my-3 group">
                                <div class="col-span-12 xl:col-span-4 aspect-video xl:aspect-square  overflow-hidden">
                                    <img class="group-hover:scale-105 duration-200 rounded-lg aspect-video xl:aspect-square object-cover w-full"
                                        [src]="item?.thumbnail" [alt]="item.title">
                                </div>
                                <div class="col-span-12 xl:col-span-8">
                                    <h3 class="text-custom-yellow/90 text-base font-semibold mb-2 text-justify">
                                        {{ item.title }}
                                    </h3>
                                    <p
                                        class="text-custom-white text-sm font-light mb-2 group-hover:text-vsg-blue text-justify">
                                        {{ item.description.slice(0,120) }}...
                                    </p>
                                </div>
                            </a>
                        </ng-container>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>
<app-footer></app-footer>
